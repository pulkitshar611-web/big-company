[DEBUG] --- createOrder entered ---
[DEBUG] Body parsed: {"retailerId":1,"paymentMethod":"wallet","total":1000}
[DEBUG] User ID from req: 6
[DEBUG] Fetching consumer profile...
[DEBUG] Consumer profile: found
[DEBUG] Checking for mobile money payment...
[DEBUG] Checking for retailerId...
[DEBUG] Checking approval status...
[DEBUG] Approval status: {"id":8,"customerId":2,"retailerId":1,"status":"approved","message":null,"rejectionReason":null,"createdAt":"2026-02-05T19:00:38.686Z","updatedAt":"2026-02-05T19:00:59.818Z","respondedAt":"2026-02-05T19:00:59.817Z"}
[DEBUG] --- createOrder entered ---
[DEBUG] Body parsed: {"retailerId":1,"paymentMethod":"wallet","total":1000}
[DEBUG] User ID from req: 6
[DEBUG] Fetching consumer profile...
[DEBUG] Consumer profile: found
[DEBUG] Checking for mobile money payment...
[DEBUG] Checking for retailerId...
[DEBUG] Checking approval status...
[DEBUG] Approval status: {"id":8,"customerId":2,"retailerId":1,"status":"approved","message":null,"rejectionReason":null,"createdAt":"2026-02-05T19:00:38.686Z","updatedAt":"2026-02-05T19:00:59.818Z","respondedAt":"2026-02-05T19:00:59.817Z"}
[DEBUG] Validating rewards...
[DEBUG] Target Reward ID: GRW-QVOX0ILK
[DEBUG] Wallet/NFC payment, rewards: true
[DEBUG] Checking gasRewardWalletId: GRW-QVOX0ILK
[DEBUG] Calculating amount to pay...
[DEBUG] Initiating transaction...
[DEBUG] --- Transaction Started ---
[DEBUG] --- createOrder entered ---
[DEBUG] Body parsed: {"retailerId":1,"paymentMethod":"wallet","total":1000}
[DEBUG] User ID from req: 6
[DEBUG] Fetching consumer profile...
[DEBUG] Consumer profile: found
[DEBUG] Checking for mobile money payment...
[DEBUG] Checking for retailerId...
[DEBUG] Checking approval status...
[DEBUG] Approval status: {"id":8,"customerId":2,"retailerId":1,"status":"approved","message":null,"rejectionReason":null,"createdAt":"2026-02-05T19:00:38.686Z","updatedAt":"2026-02-05T19:00:59.818Z","respondedAt":"2026-02-05T19:00:59.817Z"}
[DEBUG] Validating rewards...
[DEBUG] Target Reward ID: GRW-QVOX0ILK
[DEBUG] Wallet/NFC payment, rewards: true
[DEBUG] Checking gasRewardWalletId: GRW-QVOX0ILK
[DEBUG] Calculating amount to pay...
[DEBUG] Initiating transaction...
[DEBUG] --- Transaction Started ---
[DEBUG] Step 1: Dedudcting reward gas (if any)...
[DEBUG] Step 2: Processing payment... Method: wallet, Amount: 1000
[DEBUG] Processing Dashboard Wallet payment...
[DEBUG] Dashboard Wallet: found ID: 2, Balance: 400
[DEBUG] Insufficient dashboard wallet balance
